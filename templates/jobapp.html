<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Job Applications - Inspiration Hub</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg,#eef2ff,#dbeafe); }
    .dark body { background: linear-gradient(135deg,#1a202c,#2d3748); color:#e2e8f0; }
    .job-card { border-radius: 10px; padding: 16px; transition: transform 0.2s; }
    .job-card:hover { transform: translateY(-4px); }
    .status { font-weight: 600; padding: 2px 8px; border-radius: 6px; font-size: 0.85rem; }
    .status-applied { background:#e0f2fe; color:#0369a1; }
    .status-interview { background:#fef9c3; color:#ca8a04; }
    .status-offer { background:#dcfce7; color:#15803d; }
    .status-rejected { background:#fee2e2; color:#b91c1c; }
    .notification { position:fixed;top:20px;right:20px;padding:10px 18px;border-radius:8px;color:#fff;z-index:1000;animation:fadein 0.5s; }
    @keyframes fadein { from{opacity:0; transform:translateX(50px)} to{opacity:1; transform:translateX(0)} }
    .sidebar { transition: transform 0.3s ease; }
    .sidebar-hidden { transform: translateX(-100%); }
  </style>
</head>
<body class="min-h-screen">
  <!-- Header -->
  <header class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 sticky top-0 z-40 shadow-md">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-xl sm:text-2xl font-bold">Inspiration Hub — Job Applications</h1>
      <div class="flex items-center space-x-2">
        <button id="menu-toggle" class="sm:hidden p-2 bg-blue-500 rounded hover:bg-blue-700">
          ☰
        </button>
        <div class="hidden sm:flex space-x-2">
          <button id="theme-toggle" class="px-3 py-2 bg-white text-gray-800 rounded">Dark Mode</button>
          <a href="INSPIRATION.html" class="px-3 py-2 bg-blue-500 rounded">Home</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Sidebar for mobile -->
  <nav id="sidebar" class="sidebar sidebar-hidden sm:hidden fixed top-0 left-0 w-3/4 h-full bg-white dark:bg-gray-800 p-4 z-50">
    <button id="close-sidebar" class="p-2 mb-4 bg-red-500 text-white rounded">Close</button>
    <div class="space-y-2">
      <button id="mobile-theme-toggle" class="w-full px-3 py-2 bg-gray-200 text-gray-800 rounded">Dark Mode</button>
      <a href="INSPIRATION.html" class="block px-3 py-2 bg-blue-500 text-white rounded">Home</a>
    </div>
  </nav>

  <!-- Main -->
  <main class="container mx-auto p-4">
    <!-- Add Application -->
    <section class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
      <h2 class="text-2xl font-semibold mb-4">Add Job Application</h2>
      <div class="grid gap-4 sm:grid-cols-2">
        <input id="jobTitle" type="text" placeholder="Job Title" class="p-3 border rounded dark:bg-gray-700 dark:border-gray-600">
        <input id="company" type="text" placeholder="Company" class="p-3 border rounded dark:bg-gray-700 dark:border-gray-600">
        <select id="status" class="p-3 border rounded dark:bg-gray-700 dark:border-gray-600">
          <option value="applied">Applied</option>
          <option value="interview">Interview</option>
          <option value="offer">Offer</option>
          <option value="rejected">Rejected</option>
        </select>
        <input id="date" type="date" class="p-3 border rounded dark:bg-gray-700 dark:border-gray-600">
        <textarea id="notes" rows="2" placeholder="Notes" class="p-3 border rounded col-span-2 dark:bg-gray-700 dark:border-gray-600"></textarea>
      </div>
      <button onclick="addApplication()" class="mt-4 px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600">Add Application</button>
    </section>

    <!-- Application List -->
    <section class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
      <h2 class="text-2xl font-semibold mb-4">My Applications</h2>
      <div id="applications" class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3"></div>
    </section>
  </main>

  <script>
    let applications = JSON.parse(localStorage.getItem("job-apps") || "[]");

    document.addEventListener("DOMContentLoaded", () => {
      loadApplications();
      document.getElementById("theme-toggle").addEventListener("click", toggleTheme);
      document.getElementById("mobile-theme-toggle").addEventListener("click", toggleTheme);
      document.getElementById("menu-toggle").addEventListener("click", toggleSidebar);
      document.getElementById("close-sidebar").addEventListener("click", toggleSidebar);
    });

    function toggleTheme() {
      document.body.classList.toggle("dark");
      const btns = [document.getElementById("theme-toggle"), document.getElementById("mobile-theme-toggle")];
      btns.forEach(btn => { if(btn) btn.textContent = document.body.classList.contains("dark") ? "Light Mode" : "Dark Mode"; });
    }

    function toggleSidebar() {
      document.getElementById("sidebar").classList.toggle("sidebar-hidden");
    }

    function addApplication() {
      const title = document.getElementById("jobTitle").value.trim();
      const company = document.getElementById("company").value.trim();
      const status = document.getElementById("status").value;
      const date = document.getElementById("date").value;
      const notes = document.getElementById("notes").value.trim();

      if (!title || !company) {
        showNotification("Please fill job title and company", "bg-red-500");
        return;
      }

      const app = { id: Date.now(), title, company, status, date, notes };
      applications.push(app);
      localStorage.setItem("job-apps", JSON.stringify(applications));
      loadApplications();
      document.querySelectorAll("input, textarea, select").forEach(el => el.value = "");
      showNotification("Application added!", "bg-green-500");
    }

    function loadApplications() {
      const container = document.getElementById("applications");
      container.innerHTML = "";
      applications.forEach(app => {
        const div = document.createElement("div");
        div.className = "job-card bg-gray-100 dark:bg-gray-700 shadow";
        div.innerHTML = `
          <h3 class="text-lg font-bold text-gray-800 dark:text-gray-100">${app.title}</h3>
          <p class="text-gray-600 dark:text-gray-300">Company: ${app.company}</p>
          <p class="status status-${app.status}">${app.status.charAt(0).toUpperCase() + app.status.slice(1)}</p>
          <p class="text-sm text-gray-500 dark:text-gray-400">Date: ${app.date || "-"}</p>
          <p class="text-gray-700 dark:text-gray-200 text-sm">${app.notes || ""}</p>
          <button onclick="deleteApp(${app.id})" class="mt-2 px-3 py-1 bg-red-500 text-white rounded text-sm">Delete</button>
        `;
        container.appendChild(div);
      });
    }

    function deleteApp(id) {
      applications = applications.filter(app => app.id !== id);
      localStorage.setItem("job-apps", JSON.stringify(applications));
      loadApplications();
      showNotification("Application deleted", "bg-yellow-500");
    }

    function showNotification(msg, cls) {
      const div = document.createElement("div");
      div.className = `notification ${cls}`;
      div.textContent = msg;
      document.body.appendChild(div);
      setTimeout(() => div.remove(), 3000);
    }
  </script>
</body>
</html>
